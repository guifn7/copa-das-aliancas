<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Copa das Alianรงas ๐</title>
<style>
ย :root{--accent:#b63b6b;--bg:#faf9fb;--card:#fff;--muted:#666}
ย body{font-family:Inter,system-ui,Arial;margin:0;background:var(--bg);color:#111}
ย .wrap{max-width:980px;margin:26px auto;padding:20px}
ย h1{margin:0 0 8px;font-size:28px}
ย p.lead{margin:0 0 18px;color:var(--muted)}
ย #setupGrid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
ย .part{background:var(--card);padding:10px;border-radius:10px;box-shadow:0 6px 14px rgba(0,0,0,0.06);text-align:center}
ย .part img{width:100%;height:110px;object-fit:cover;border-radius:8px;background:#f1f1f1}
ย .pname{margin-top:8px;font-weight:600}
ย .smallbtn{display:inline-block;margin-top:8px;padding:6px 10px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer;font-size:13px}
ย #startBtn{margin-top:18px;padding:12px 18px;border-radius:10px;background:var(--accent);color:#fff;border:0;cursor:pointer;font-weight:700}
ย #matchArea{display:none;margin-top:18px}
ย .roundTitle{font-size:20px;margin-bottom:8px}
ย .matchWrap{display:flex;gap:16px;align-items:center;justify-content:center;margin-top:10px}
ย .card{width:42%;background:var(--card);padding:12px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.06);cursor:pointer;transition:transform .12s}
ย .card:hover{transform:translateY(-6px)}
ย .card img{width:100%;height:230px;object-fit:cover;border-radius:8px;background:#f6f6f6}
ย .card .name{margin-top:10px;font-weight:700;text-align:center}
ย .vs{font-size:18px;color:var(--muted);font-weight:700}
ย .counter{margin-top:8px;color:var(--muted)}
ย .finalBox{margin-top:18px;text-align:center}
ย .champ{display:inline-block;padding:10px;border-radius:12px;background:#fff;box-shadow:0 10px 26px rgba(0,0,0,0.08);width:60%}
ย .champ img{width:100%;height:220px;object-fit:cover;border-radius:8px}
ย .btn{margin-top:12px;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
ย .btn.secondary{background:#fff;border:1px solid #ddd}
ย footer{margin-top:26px;color:#777;font-size:13px;text-align:center}
ย @media (max-width:720px){
ย ย #setupGrid{grid-template-columns:repeat(2,1fr)}
ย ย .card img{height:160px}
ย }
</style>
</head>
<body>
<div class="wrap">
ย <h1>Copa das Alianรงas ๐</h1>
ย <p class="lead">Clique em <strong>Iniciar Torneio</strong> e escolha a cada partida a alianรงa vencedora. Eu te amo minha Pequena <3</p>

ย <div id="setup">
ย ย <div id="setupGrid"></div>
ย ย <button id="startBtn">Iniciar Torneio</button>
ย ย <p style="margin-top:10px;color:var(--muted);font-size:13px">Vocรช ainda vai casar comigo.</p>
ย </div>

ย <div id="matchArea">
ย ย <div class="roundTitle" id="roundTitle">Oitavas de Final</div>
ย ย <div class="counter" id="matchCounter">Partida 1 de 8</div>
ย ย <div class="matchWrap">
ย ย ย <div class="card" id="leftCard" data-side="L">
ย ย ย ย <img id="leftImg" src="" alt="esquerda">
ย ย ย ย <div class="name" id="leftName">Alianรงa A</div>
ย ย ย </div>

ย ย ย <div class="vs">VS</div>

ย ย ย <div class="card" id="rightCard" data-side="R">
ย ย ย ย <img id="rightImg" src="" alt="direita">
ย ย ย ย <div class="name" id="rightName">Alianรงa B</div>
ย ย ย </div>
ย ย </div>

ย ย <div class="finalBox" id="finalBox" style="display:none;">
ย ย ย <div class="champ" id="championCard">
ย ย ย ย <img id="champImg" src="">
ย ย ย ย <div class="name" id="champName" style="margin-top:10px;font-size:18px"></div>
ย ย ย </div>
ย ย ย <div>
ย ย ย ย <button class="btn" id="restartBtn" style="background:var(--accent);color:#fff">Reiniciar</button>
ย ย ย ย <button class="btn secondary" id="editAgainBtn">Voltar e editar participantes</button>
ย ย ย </div>
ย ย </div>
ย </div>

ย <footer>Vocรช รฉ o amor da minha vida</footer>
</div>

<script>
/* Dados iniciais */
const participants = [
    { id: 1, name: "Alianรงa 1", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 2, name: "Alianรงa 2", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 3, name: "Alianรงa 3", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 4, name: "Alianรงa 4", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 5, name: "Alianรงa 5", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 6, name: "Alianรงa 6", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 7, name: "Alianรงa 7", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 8, name: "Alianรงa 8", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 9, name: "Alianรงa 9", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 10, name: "Alianรงa 10", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 11, name: "Alianรงa 11", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 12, name: "Alianรงa 12", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 13, name: "Alianรงa 13", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 14, name: "Alianรงa 14", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 15, name: "Alianรงa 15", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" },
    { id: 16, name: "Alianรงa 16", img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQICAgICAgICAgICAwMDAwMDAwMEBAQEBAQMEBAMDBwYFBgYGBgcBggcICAcHzAkKCQoOAwkKCAgICAgI/9wAALCAEAAQADAREA/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABsQAQEAAgMAAAAAAAAAAAAAAAABESECMUFh/9oACAEBAAE/AKuD8uGv3yT8J/l64PzYa/fJN8/w-oE3T4Qf/Z" }
];

/* Helpers DOM */
const setupGrid = document.getElementById('setupGrid');
const startBtn = document.getElementById('startBtn');
const setupSection = document.getElementById('setup');
const matchArea = document.getElementById('matchArea');
const roundTitle = document.getElementById('roundTitle');
const matchCounter = document.getElementById('matchCounter');
const leftCard = document.getElementById('leftCard');
const rightCard = document.getElementById('rightCard');
const leftImg = document.getElementById('leftImg');
const rightImg = document.getElementById('rightImg');
const leftName = document.getElementById('leftName');
const rightName = document.getElementById('rightName');
const finalBox = document.getElementById('finalBox');
const champImg = document.getElementById('champImg');
const champName = document.getElementById('champName');
const restartBtn = document.getElementById('restartBtn');
const editAgainBtn = document.getElementById('editAgainBtn');

let currentRoundParticipants = []; // copia por rodada
let roundIndex = 0; // 0: oitavas, 1: quartas, 2: semi, 3: final
let matchIndex = 0;
let winners = [];

const roundLabels = ['Oitavas de Final','Quartas de Final','Semifinal','Final'];

function dataURLPlaceholder(text){
ย // cria um SVG como placeholder e retorna dataURL
ย const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='600' height='420'>
ย ย <rect width='100%' height='100%' fill='#f6f6f8'/>
ย ย <text x='50%' y='50%' font-size='28' fill='#999' dominant-baseline='middle' text-anchor='middle' font-family='Arial'>${text}</text>
ย </svg>`;
ย return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
}

/* Monta a grade de participantes para ediรงรฃo */
function renderSetup(){
ย setupGrid.innerHTML='';
ย participants.forEach((p, idx) => {
ย ย const div = document.createElement('div');
ย ย div.className='part';
ย ย const img = document.createElement('img');
ย ย img.src = p.img || dataURLPlaceholder(p.name);
ย ย img.alt = p.name;
ย ย img.setAttribute('data-idx', idx);

ย ย const name = document.createElement('div');
ย ย name.className='pname';
ย ย name.innerText = p.name;
ย ย name.contentEditable = true;
ย ย name.style.outline = 'none';
ย ย name.addEventListener('input', e=>{
ย ย ย participants[idx].name = e.target.innerText.trim() || `Alianรงa ${idx+1}`;
ย ย ย img.src = participants[idx].img || dataURLPlaceholder(participants[idx].name);
ย ย });

ย ย const upload = document.createElement('button');
ย ย upload.className='smallbtn';
ย ย upload.innerText='Escolher imagem';
ย ย const file = document.createElement('input');
ย ย file.type='file';
ย ย file.accept='image/*';
ย ย file.style.display='none';
ย ย file.addEventListener('change', ev=>{
ย ย ย const f = ev.target.files[0];
ย ย ย if(!f) return;
ย ย ย const reader = new FileReader();
ย ย ย reader.onload = function(evt){
ย ย ย ย participants[idx].img = evt.target.result;
ย ย ย ย img.src = participants[idx].img;
ย ย ย }
ย ย ย reader.readAsDataURL(f);
ย ย });
ย ย upload.addEventListener('click', ()=>file.click());

ย ย div.appendChild(img);
ย ย div.appendChild(name);
ย ย div.appendChild(upload);
ย ย div.appendChild(file);
ย ย setupGrid.appendChild(div);
ย });
}

/* Inicia torneio: copia participantes e comeรงa a primeira rodada */
function startTournament(){
ย // valida
ย if(participants.length !== 16){
ย ย alert('Precisamos de 16 participantes.');
ย ย return;
ย }
ย // lock ediรงรฃo
ย setupSection.style.display='none';
ย matchArea.style.display='block';
ย finalBox.style.display='none';
ย currentRoundParticipants = participants.map(p=>({...p})); // cรณpia
ย roundIndex = 0;
ย startRound();
}

function startRound(){
ย winners = [];
ย matchIndex = 0;
ย renderMatch();
}

function renderMatch(){
ย const roundSize = currentRoundParticipants.length;
ย const matches = roundSize / 2;
ย roundTitle.innerText = roundLabels[roundIndex] || `Rodada ${roundIndex+1}`;
ย matchCounter.innerText = `Partida ${matchIndex+1} de ${matches}`;

ย const left = currentRoundParticipants[matchIndex*2];
ย const right = currentRoundParticipants[matchIndex*2 + 1];

ย leftImg.src = left.img || dataURLPlaceholder(left.name);
ย rightImg.src = right.img || dataURLPlaceholder(right.name);
ย leftName.innerText = left.name;
ย rightName.innerText = right.name;

ย // scroll to top of matchArea (mobile UX)
ย window.scrollTo({top:matchArea.offsetTop-10, behavior:'smooth'});
}

/* Ao escolher vencedor */
function chooseWinner(which){
ย const left = currentRoundParticipants[matchIndex*2];
ย const right = currentRoundParticipants[matchIndex*2 + 1];
ย const winner = (which==='L')? left : right;
ย winners.push(winner);

ย // prรณximo match
ย matchIndex++;
ย const matches = currentRoundParticipants.length / 2;
ย if(matchIndex < matches){
ย ย renderMatch();
ย ย return;
ย }

ย // rodada finalizada
ย if(winners.length === 1){
ย ย // caso extremo (somente 2 participantes na rodada) โ campeรฃ
ย ย showChampion(winners[0]);
ย ย return;
ย }

ย // se depois de uma rodada sobrar apenas 1 ganhador -> campeรฃo
ย if(winners.length === 1){
ย ย showChampion(winners[0]);
ย ย return;
ย }

ย // senรฃo, avanรงa para a prรณxima rodada
ย currentRoundParticipants = winners.map(w=>({...w}));
ย roundIndex++;
ย // se sรณ sobrar 1 (apรณs final), show champion
ย if(currentRoundParticipants.length === 1){
ย ย showChampion(currentRoundParticipants[0]);
ย ย return;
ย }
ย // iniciar prรณxima rodada com reset de matchIndex/winners
ย startRound();
}

/* Mostra a campeรฃ */
function showChampion(ch){
ย finalBox.style.display='block';
ย champImg.src = ch.img || dataURLPlaceholder(ch.name);
ย champName.innerText = ch.name + " โ Campeรฃ ๐";
ย // esconder area de partidas
ย roundTitle.innerText = 'Campeรฃ';
ย matchCounter.innerText = '';
ย leftCard.style.display='none';
ย rightCard.style.display='none';
ย document.querySelector('.vs').style.display='none';
}

/* Reiniciar para jogar de novo com mesma configuraรงรฃo */
function restart(){
ย // mostra cards novamente
ย leftCard.style.display='block';
ย rightCard.style.display='block';
ย document.querySelector('.vs').style.display='block';
ย finalBox.style.display='none';
ย currentRoundParticipants = participants.map(p=>({...p}));
ย roundIndex = 0;
ย startRound();
}

/* Voltar para ediรงรฃo */
function editAgain(){
ย // mostrar ediรงรฃo
ย setupSection.style.display='block';
ย matchArea.style.display='none';
ย leftCard.style.display='block';
ย rightCard.style.display='block';
ย document.querySelector('.vs').style.display='block';
}

/* Eventos */
leftCard.addEventListener('click', ()=>chooseWinner('L'));
rightCard.addEventListener('click', ()=>chooseWinner('R'));
startBtn.addEventListener('click', startTournament);
restartBtn.addEventListener('click', restart);
editAgainBtn.addEventListener('click', editAgain);

/* Inicializa UI */
renderSetup();
</script>
</body>
</html>
