<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Copa das AlianÃ§as ğŸ’</title>
<style>
Â  :root{--accent:#b63b6b;--bg:#faf9fb;--card:#fff;--muted:#666}
Â  body{font-family:Inter,system-ui,Arial;margin:0;background:var(--bg);color:#111}
Â  .wrap{max-width:980px;margin:26px auto;padding:20px}
Â  h1{margin:0 0 8px;font-size:28px}
Â  p.lead{margin:0 0 18px;color:var(--muted)}
Â  #setupGrid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
Â  .part{background:var(--card);padding:10px;border-radius:10px;box-shadow:0 6px 14px rgba(0,0,0,0.06);text-align:center}
Â  .part img{width:100%;height:110px;object-fit:cover;border-radius:8px;background:#f1f1f1}
Â  .pname{margin-top:8px;font-weight:600}
Â  .smallbtn{display:inline-block;margin-top:8px;padding:6px 10px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer;font-size:13px}
Â  #startBtn{margin-top:18px;padding:12px 18px;border-radius:10px;background:var(--accent);color:#fff;border:0;cursor:pointer;font-weight:700}
Â  #matchArea{display:none;margin-top:18px}
Â  .roundTitle{font-size:20px;margin-bottom:8px}
Â  .matchWrap{display:flex;gap:16px;align-items:center;justify-content:center;margin-top:10px}
Â  .card{width:42%;background:var(--card);padding:12px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.06);cursor:pointer;transition:transform .12s}
Â  .card:hover{transform:translateY(-6px)}
Â  .card img{width:100%;height:230px;object-fit:cover;border-radius:8px;background:#f6f6f6}
Â  .card .name{margin-top:10px;font-weight:700;text-align:center}
Â  .vs{font-size:18px;color:var(--muted);font-weight:700}
Â  .counter{margin-top:8px;color:var(--muted)}
Â  .finalBox{margin-top:18px;text-align:center}
Â  .champ{display:inline-block;padding:10px;border-radius:12px;background:#fff;box-shadow:0 10px 26px rgba(0,0,0,0.08);width:60%}
Â  .champ img{width:100%;height:220px;object-fit:cover;border-radius:8px}
Â  .btn{margin-top:12px;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
Â  .btn.secondary{background:#fff;border:1px solid #ddd}
Â  footer{margin-top:26px;color:#777;font-size:13px;text-align:center}
Â  @media (max-width:720px){
Â  Â  #setupGrid{grid-template-columns:repeat(2,1fr)}
Â  Â  .card img{height:160px}
Â  }
</style>
</head>
<body>
<div class="wrap">
Â  <h1>Copa das AlianÃ§as ğŸ’</h1>
Â  <p class="lead"> Clique em <strong>Iniciar Torneio</strong> e escolha a cada partida a alianÃ§a vencedora. EU TE AMO AMANDA</p>

Â  <div id="setup">
Â  Â  <div id="setupGrid"></div>
Â  Â  <button id="startBtn">Iniciar Torneio</button>
Â  Â  <p style="margin-top:10px;color:var(--muted);font-size:13px">Dica: se nÃ£o colocar imagem, aparecerÃ¡ um placeholder.</p>
Â  </div>

Â  <div id="matchArea">
Â  Â  <div class="roundTitle" id="roundTitle">Oitavas de Final</div>
Â  Â  <div class="counter" id="matchCounter">Partida 1 de 8</div>
Â  Â  <div class="matchWrap">
Â  Â  Â  <div class="card" id="leftCard" data-side="L">
Â  Â  Â  Â  <img id="leftImg" src="" alt="esquerda">
Â  Â  Â  Â  <div class="name" id="leftName">AlianÃ§a A</div>
Â  Â  Â  </div>

Â  Â  Â  <div class="vs">VS</div>

Â  Â  Â  <div class="card" id="rightCard" data-side="R">
Â  Â  Â  Â  <img id="rightImg" src="" alt="direita">
Â  Â  Â  Â  <div class="name" id="rightName">AlianÃ§a B</div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="finalBox" id="finalBox" style="display:none;">
Â  Â  Â  <div class="champ" id="championCard">
Â  Â  Â  Â  <img id="champImg" src="">
Â  Â  Â  Â  <div class="name" id="champName" style="margin-top:10px;font-size:18px"></div>
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <button class="btn" id="restartBtn" style="background:var(--accent);color:#fff">Reiniciar</button>
Â  Â  Â  Â  <button class="btn secondary" id="editAgainBtn">Voltar e editar participantes</button>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <footer>Feito por vocÃª â€” torneio de 16.</footer>
</div>

<script>
/* Dados iniciais */
const participants = [
Â  {
Â  Â  id: 1,
Â  Â  name: "AlianÃ§a 1",
Â  Â  img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhMJCggKCAoICAgKCAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/2wCEAQoICggICggICwgICggKCAoICggKCAoICgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAEAAQADASEAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABwQAQEAAgIDAQAAAAAAAAAAAAABEQISITEyQf/EABkBAAMBAQEAAAAAAAAAAAAAAAABAgMEBf/EABcRAQEBAQAAAAAAAAAAAAAAAAABETES/9oADAMBAAIRAxEAPwD2uJ5+9d3Pnx58+3t7fOq7nzu913Ovn09fTq3/ADy7/O73O7/PDXmY9/Rj1vD1e3v6Muv6MuzLrq9H38M/1/B/X+H39H3P7/AA6/jH7f4d/x/D/W7fD0/t+H/AMfw6/tL/j/Dv+H2f2/D/6/D/0u9+H/w+39P5fX9N2y3/p9Dbf3L0f6L3bf6v9/wA8+7+F/h/j/D/H/DP+/8P/L/AB/T5fT5v9/n/F/X+H39Pj+H2e3x+Xl9f9/5f1/L/8AGrP717c37Vb+v/d/8A7u3+9f7u3/97O/r/ALs2f6+57v62bP6+f/wBt2/8A6u/P5/y6f7v8f/2f3Lq7+7Lq6f8A3Lp/y6X3f8373d3+z39X+f7s3f9W3/9/m5s2fm9f7f45+5d/v+f329P/ANf8O/63b/38d38+2b/H/y6n2/H2t3t+3v+z+fn/j7+nv/AG7c2bO3r/d3/wDH2/8Az/h+t2/3t35s/wCHb/0+/wDvj/F/y6f/AN8y6/8Anl1/7f48+3t/D1/b1/l9f+X2/d9v+b/H39P/AOX6+f8Ab9/L1/l9f+X1/d2/wDH1/l9f/fT/j9f/AHb/AH/n9dvT7v1+b/H1/d2/l9d2f2/v/AO/p9f8A3d+f2+/+2f5s2f6+H7f/X2b/7Yf9v/AO+G33f/AN8d3/8Afj/r/n/j/wD/AP/Z" },
Â  {
Â  Â  id: 2,
Â  Â  name: "AlianÃ§a 2",
Â  Â  img: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhMJCggKCAoICAgKCAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/2wCEAQoICggICggICwgICggKCAoICggKCAoICgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCjARCAEAAQADASEAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABwQAQEAAgIDAQAAAAAAAAAAAAABEQISITEyQf/EABkBAAMBAQEAAAAAAAAAAAAAAAABAgMEBf/EABcRAQEBAQAAAAAAAAAAAAAAAAABETES/9oADAMBAAIRAxEAPwD2uJ5+9d3Pnx58+3t7fOq7nzu913Ovn09fTq3/ADy7/O73O7/PDXmY9/Rj1vD1e3v6Muv6MuzLrq9H38M/1/B/X+H39H3P7/AA6/jH7f4d/x/D/W7fD0/t+H/AMfw6/tL/j/Dv+H2f2/D/6/D/0u9+H/w+39P5fX9N2y3/p9Dbf3L0f6L3bf6v9/wA8+7+F/h/j/D/H/DP+/8P/L/AB/T5fT5v9/n/F/X+H39Pj+H2e3x+Xl9f9/5f1/L/8AGrP717c37Vb+v/d/8A7u3+9f7u3/97O/r/ALs2f6+57v62bP6+f/wBt2/8A6u/P5/y6f7v8f/2f3Lq7+7Lq6f8A3Lp/y6X3f8373d3+z39X+f7s3f9W3/9/m5s2fm9f7f45+5d/v+f329P/ANf8O/63b/38d38+2b/H/y6n2/H2t3t+3v+z+fn/j7+nv/AG7c2bO3r/d3/wDH2/8Az/h+t2/3t35s/wCHb/0+/wDvj/F/y6f/AN8y6/8Anl1/7f48+3t/D1/b1/l9f+X2/d9v+b/H39P/AOX6+f8Ab9/L1/l9f+X1/d2/wDH1/l9f/fT/j9f/AHb/AH/n9dvT7v1+b/H1/d2/l9d2f2/v/AO/p9f8A3d+f2+/+2f5s2f6+H7f/X2b/7Yf9v/AO+G33f/AN8d3/8Afj/r/n/j/wD/AP/Z" },
Â  { id: 3, name: "AlianÃ§a 3", img: null },
Â  { id: 4, name: "AlianÃ§a 4", img: null },
Â  { id: 5, name: "AlianÃ§a 5", img: null },
Â  { id: 6, name: "AlianÃ§a 6", img: null },
Â  { id: 7, name: "AlianÃ§a 7", img: null },
Â  { id: 8, name: "AlianÃ§a 8", img: null },
Â  { id: 9, name: "AlianÃ§a 9", img: null },
Â  { id: 10, name: "AlianÃ§a 10", img: null },
Â  { id: 11, name: "AlianÃ§a 11", img: null },
Â  { id: 12, name: "AlianÃ§a 12", img: null },
Â  { id: 13, name: "AlianÃ§a 13", img: null },
Â  { id: 14, name: "AlianÃ§a 14", img: null },
Â  { id: 15, name: "AlianÃ§a 15", img: null },
Â  { id: 16, name: "AlianÃ§a 16", img: null },
}));

/* Helpers DOM */
const setupGrid = document.getElementById('setupGrid');
const startBtn = document.getElementById('startBtn');
const setupSection = document.getElementById('setup');
const matchArea = document.getElementById('matchArea');
const roundTitle = document.getElementById('roundTitle');
const matchCounter = document.getElementById('matchCounter');
const leftCard = document.getElementById('leftCard');
const rightCard = document.getElementById('rightCard');
const leftImg = document.getElementById('leftImg');
const rightImg = document.getElementById('rightImg');
const leftName = document.getElementById('leftName');
const rightName = document.getElementById('rightName');
const finalBox = document.getElementById('finalBox');
const champImg = document.getElementById('champImg');
const champName = document.getElementById('champName');
const restartBtn = document.getElementById('restartBtn');
const editAgainBtn = document.getElementById('editAgainBtn');

let currentRoundParticipants = []; // copia por rodada
let roundIndex = 0; // 0: oitavas, 1: quartas, 2: semi, 3: final
let matchIndex = 0;
let winners = [];

const roundLabels = ['Oitavas de Final','Quartas de Final','Semifinal','Final'];

function dataURLPlaceholder(text){
  // cria um SVG como placeholder e retorna dataURL
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='600' height='420'>
    <rect width='100%' height='100%' fill='#f6f6f8'/>
    <text x='50%' y='50%' font-size='28' fill='#999' dominant-baseline='middle' text-anchor='middle' font-family='Arial'>${text}</text>
  </svg>`;
  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
}

/* Monta a grade de participantes para ediÃ§Ã£o */
function renderSetup(){
  setupGrid.innerHTML='';
  participants.forEach((p, idx) => {
    const div = document.createElement('div');
    div.className='part';
    const img = document.createElement('img');
    img.src = p.img || dataURLPlaceholder(p.name);
    img.alt = p.name;
    img.setAttribute('data-idx', idx);

    const name = document.createElement('div');
    name.className='pname';
    name.innerText = p.name;
    name.contentEditable = true;
    name.style.outline = 'none';
    name.addEventListener('input', e=>{
      participants[idx].name = e.target.innerText.trim() || `AlianÃ§a ${idx+1}`;
      img.src = participants[idx].img || dataURLPlaceholder(participants[idx].name);
    });

    const upload = document.createElement('button');
    upload.className='smallbtn';
    upload.innerText='Escolher imagem';
    const file = document.createElement('input');
    file.type='file';
    file.accept='image/*';
    file.style.display='none';
    file.addEventListener('change', ev=>{
      const f = ev.target.files[0];
      if(!f) return;
      const reader = new FileReader();
      reader.onload = function(evt){
        participants[idx].img = evt.target.result;
        img.src = participants[idx].img;
      }
      reader.readAsDataURL(f);
    });
    upload.addEventListener('click', ()=>file.click());

    div.appendChild(img);
    div.appendChild(name);
    div.appendChild(upload);
    div.appendChild(file);
    setupGrid.appendChild(div);
  });
}

/* Inicia torneio: copia participantes e comeÃ§a a primeira rodada */
function startTournament(){
  // valida
  if(participants.length !== 16){
    alert('Precisamos de 16 participantes.');
    return;
  }
  // lock ediÃ§Ã£o
  setupSection.style.display='none';
  matchArea.style.display='block';
  finalBox.style.display='none';
  currentRoundParticipants = participants.map(p=>({...p})); // cÃ³pia
  roundIndex = 0;
  startRound();
}

function startRound(){
  winners = [];
  matchIndex = 0;
  renderMatch();
}

function renderMatch(){
  const roundSize = currentRoundParticipants.length;
  const matches = roundSize / 2;
  roundTitle.innerText = roundLabels[roundIndex] || `Rodada ${roundIndex+1}`;
  matchCounter.innerText = `Partida ${matchIndex+1} de ${matches}`;

  const left = currentRoundParticipants[matchIndex*2];
  const right = currentRoundParticipants[matchIndex*2 + 1];

  leftImg.src = left.img || dataURLPlaceholder(left.name);
  rightImg.src = right.img || dataURLPlaceholder(right.name);
  leftName.innerText = left.name;
  rightName.innerText = right.name;

  // scroll to top of matchArea (mobile UX)
  window.scrollTo({top:matchArea.offsetTop-10, behavior:'smooth'});
}

/* Ao escolher vencedor */
function chooseWinner(which){
  const left = currentRoundParticipants[matchIndex*2];
  const right = currentRoundParticipants[matchIndex*2 + 1];
  const winner = (which==='L')? left : right;
  winners.push(winner);

  // prÃ³ximo match
  matchIndex++;
  const matches = currentRoundParticipants.length / 2;
  if(matchIndex < matches){
    renderMatch();
    return;
  }

  // rodada finalizada
  if(winners.length === 1){
    // caso extremo (somente 2 participantes na rodada) â€” campeÃ£
    showChampion(winners[0]);
    return;
  }

  // se depois de uma rodada sobrar apenas 1 ganhador -> campeÃ£o
  if(winners.length === 1){
    showChampion(winners[0]);
    return;
  }

  // senÃ£o, avanÃ§a para a prÃ³xima rodada
  currentRoundParticipants = winners.map(w=>({...w}));
  roundIndex++;
  // se sÃ³ sobrar 1 (apÃ³s final), show champion
  if(currentRoundParticipants.length === 1){
    showChampion(currentRoundParticipants[0]);
    return;
  }
  // iniciar prÃ³xima rodada com reset de matchIndex/winners
  startRound();
}

/* Mostra a campeÃ£ */
function showChampion(ch){
  finalBox.style.display='block';
  champImg.src = ch.img || dataURLPlaceholder(ch.name);
  champName.innerText = ch.name + " â€” CampeÃ£ ğŸ†";
  // esconder area de partidas
  roundTitle.innerText = 'CampeÃ£';
  matchCounter.innerText = '';
  leftCard.style.display='none';
  rightCard.style.display='none';
  document.querySelector('.vs').style.display='none';
}

/* Reiniciar para jogar de novo com mesma configuraÃ§Ã£o */
function restart(){
  // mostra cards novamente
  leftCard.style.display='block';
  rightCard.style.display='block';
  document.querySelector('.vs').style.display='block';
  finalBox.style.display='none';
  currentRoundParticipants = participants.map(p=>({...p}));
  roundIndex = 0;
  startRound();
}

/* Voltar para ediÃ§Ã£o */
function editAgain(){
  // mostrar ediÃ§Ã£o
  setupSection.style.display='block';
  matchArea.style.display='none';
  leftCard.style.display='block';
  rightCard.style.display='block';
  document.querySelector('.vs').style.display='block';
}

/* Eventos */
leftCard.addEventListener('click', ()=>chooseWinner('L'));
rightCard.addEventListener('click', ()=>chooseWinner('R'));
startBtn.addEventListener('click', startTournament);
restartBtn.addEventListener('click', restart);
editAgainBtn.addEventListener('click', editAgain);

/* Inicializa UI */
renderSetup();
</script>
</body>
</html>
